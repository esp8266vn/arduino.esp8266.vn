

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>WiFi Station &mdash; Tài liệu Lập trình IoT với ESP8266 Arduino 1.0</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Tìm Kiếm" href="../search.html"/>
    <link rel="top" title="Tài liệu Lập trình IoT với ESP8266 Arduino 1.0" href="../index.html"/>
        <link rel="up" title="Wi-Fi" href="index.html"/>
        <link rel="next" title="WiFi Access Point" href="access-point.html"/>
        <link rel="prev" title="Thư viện ESP8266WiFi" href="wifi-api.html"/>
<style>
.wy-nav-side {
    padding-bottom: 100px !important;
}
</style>


  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Lập trình IoT với ESP8266 Arduino
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Cơ bản</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../basic/index.html">Cài đặt</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../basic/install.html">Cài đặt Arduino IDE</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../basic/install.html#cai-dat-voi-boards-manager">Cài đặt với Boards Manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basic/install.html#su-dung-git-version">Sử dụng git version</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../basic/board.html">Board IoT WiFi Uno</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../basic/board.html#pinout">Pinout</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basic/board.html#thuc-te">Thực tế</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basic/board.html#mach-nguyen-ly">Mạch nguyên lý</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basic/board.html#fritzing-part">Fritzing part</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basic/board.html#mua-hang">Mua hàng</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../basic/connection.html">Kết nối máy tính</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../basic/connection.html#ket-noi-phan-cung">Kết nối phần cứng</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basic/connection.html#cai-dat-usb-driver">Cài đặt USB Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basic/connection.html#cau-hinh-ket-noi">Cấu hình kết nối</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../basic/library.html">Cài đặt thư viện</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../basic/library.html#cac-thuc-hien">Các thực hiện</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basic/library.html#video-huong-dan">Video hướng dẫn</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../basic/led.html">Chuẩn bị</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basic/led.html#dau-noi">Đấu nối</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basic/led.html#chop-tat-dung-delay">Chớp tắt dùng Delay</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basic/led.html#chop-tat-dung-dinh-thoi">Chớp tắt dùng định thời</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basic/led.html#digital-io">Digital IO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basic/button.html">Nút nhấn</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../basic/button.html#demo">Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basic/button.html#chuan-bi">Chuẩn bị</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basic/button.html#dau-noi">Đấu nối</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basic/button.html#code">Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basic/button.html#digital-io">Digital IO</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../basic/promem.html">Sử dụng Promem</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../basic/promem.html#vi-du">Ví dụ</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../peripherals/index.html">Ngoại vi</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../peripherals/serial.html"> Serial/UART</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../peripherals/serial.html#hardware-serial">Hardware Serial</a></li>
<li class="toctree-l3"><a class="reference internal" href="../peripherals/serial.html#software-serial">Software Serial</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../peripherals/analog.html"> Analog/ADC</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../peripherals/analog.html#ngo-ra-analog">Ngõ ra Analog</a></li>
<li class="toctree-l3"><a class="reference internal" href="../peripherals/analog.html#vi-du">Ví dụ</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../peripherals/timming.html"> Thời gian/Timer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../peripherals/timming.html#ticker">Ticker</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../peripherals/i2c.html"> I2C/OLED</a></li>
<li class="toctree-l2"><a class="reference internal" href="../peripherals/i2s.html"> I2S</a></li>
<li class="toctree-l2"><a class="reference internal" href="../peripherals/spi.html"> SPI</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Wi-Fi</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="kn-wifi.html">Các khái niệm cơ bản về WiFi</a><ul>
<li class="toctree-l3"><a class="reference internal" href="kn-wifi.html#station-va-access-point">Station vả Access Point</a></li>
<li class="toctree-l3"><a class="reference internal" href="kn-wifi.html#hotspot">Hotspot</a></li>
<li class="toctree-l3"><a class="reference internal" href="kn-wifi.html#cac-chuan-bao-mat-wifi">Các chuẩn bảo mật WiFi</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="wifi-api.html">WiFi API</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">WiFi Station</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#khai-niem-co-ban">Khái niệm cơ bản</a></li>
<li class="toctree-l3"><a class="reference internal" href="#muc-luc">Mục lục</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="access-point.html">WiFi Access Point</a><ul>
<li class="toctree-l3"><a class="reference internal" href="access-point.html#muc-luc">Mục lục</a></li>
<li class="toctree-l3"><a class="reference internal" href="access-point.html#ve-access-point">Về Access Point</a></li>
<li class="toctree-l3"><a class="reference internal" href="access-point.html#thiet-lap-mang">Thiết lập mạng</a></li>
<li class="toctree-l3"><a class="reference internal" href="access-point.html#quan-ly-ket-noi">Quản lý kết nối</a></li>
<li class="toctree-l3"><a class="reference internal" href="access-point.html#cau-hinh-mang">Cấu hình Mạng</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="scan-class.html">Giới thiệu về lớp Scan</a></li>
<li class="toctree-l2"><a class="reference internal" href="scan-class.html#scan-for-networks">Scan for Networks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="scan-class.html#scannetworks">scanNetworks</a></li>
<li class="toctree-l3"><a class="reference internal" href="scan-class.html#scancomplete">scanComplete</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="scan-class.html#hien-thi-ket-qua">Hiển thị kết quả</a><ul>
<li class="toctree-l3"><a class="reference internal" href="scan-class.html#ssid">SSID</a></li>
<li class="toctree-l3"><a class="reference internal" href="scan-class.html#scandelete">scanDelete</a></li>
<li class="toctree-l3"><a class="reference internal" href="scan-class.html#encryptiontype">encryptionType</a></li>
<li class="toctree-l3"><a class="reference internal" href="scan-class.html#channel">channel</a></li>
<li class="toctree-l3"><a class="reference internal" href="scan-class.html#ishidden">isHidden</a></li>
<li class="toctree-l3"><a class="reference internal" href="scan-class.html#rssi">RSSI</a></li>
<li class="toctree-l3"><a class="reference internal" href="scan-class.html#bssid">BSSID</a></li>
<li class="toctree-l3"><a class="reference internal" href="scan-class.html#getnetworkinfo">getNetworkInfo</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="smartconfig.html">Smartconfig</a><ul>
<li class="toctree-l3"><a class="reference internal" href="smartconfig.html#loi-ich-cua-smartconfig">Lợi ích của Smartconfig</a></li>
<li class="toctree-l3"><a class="reference internal" href="smartconfig.html#esp-touch">ESP Touch</a></li>
<li class="toctree-l3"><a class="reference internal" href="smartconfig.html#demo-video">Demo Video</a></li>
<li class="toctree-l3"><a class="reference internal" href="smartconfig.html#esp8266-code">ESP8266 code</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="wps.html">WPS</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Network/Protocol</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../network/http-client.html">HTTP Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../network/http-server.html">HTTP Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../network/mqtt.html">MQTT</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../network/mqtt.html#giao-thuc-mqtt">Giao thức MQTT</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../network/mqtt.html#mqtt-la-gi">MQTT là gì</a></li>
<li class="toctree-l3"><a class="reference internal" href="../network/mqtt.html#publish-subscribe">Publish, subscribe</a></li>
<li class="toctree-l3"><a class="reference internal" href="../network/mqtt.html#qos">QoS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../network/mqtt.html#retain">Retain</a></li>
<li class="toctree-l3"><a class="reference internal" href="../network/mqtt.html#lwt">LWT</a></li>
<li class="toctree-l3"><a class="reference internal" href="../network/mqtt.html#reference">Reference</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../network/mqtt.html#chuong-trinh">Chương trình</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../network/mqtt.html#noi-dung">Nội dung</a></li>
<li class="toctree-l3"><a class="reference internal" href="../network/mqtt.html#id1">Chương trình</a></li>
<li class="toctree-l3"><a class="reference internal" href="../network/mqtt.html#demo">Demo</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../network/websocket.html">Websocket</a></li>
<li class="toctree-l1"><a class="reference internal" href="../network/mdns.html">mDNS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../network/coap.html">CoAP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../network/ota.html">Cập nhật firmware</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../network/ota.html#gioi-thieu-ota">Giới thiệu OTA</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../network/ota.html#bao-mat">Bảo mật</a></li>
<li class="toctree-l3"><a class="reference internal" href="../network/ota.html#an-toan">An toàn</a></li>
<li class="toctree-l3"><a class="reference internal" href="../network/ota.html#yeu-cau-can-ban">Yêu cầu căn bản</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../network/ota.html#arduino-ide">Arduino IDE</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../network/ota.html#yeu-cau">Yêu cầu</a></li>
<li class="toctree-l3"><a class="reference internal" href="../network/ota.html#vi-du-ung-dung">Ví dụ ứng dụng</a></li>
<li class="toctree-l3"><a class="reference internal" href="../network/ota.html#bao-mat-password">Bảo mật Password</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../network/ota.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../network/ota.html#web-browser">Web Browser</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../network/ota.html#id1">Yêu cầu</a></li>
<li class="toctree-l3"><a class="reference internal" href="../network/ota.html#tong-quan">Tổng quan</a></li>
<li class="toctree-l3"><a class="reference internal" href="../network/ota.html#ung-dung-vi-du">Ưng dụng ví dụ:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../network/ota.html#http-server">HTTP Server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../network/ota.html#id2">Yêu cầu</a></li>
<li class="toctree-l3"><a class="reference internal" href="../network/ota.html#arduino-code">Arduino code</a></li>
<li class="toctree-l3"><a class="reference internal" href="../network/ota.html#simple-updater">Simple updater</a></li>
<li class="toctree-l3"><a class="reference internal" href="../network/ota.html#advanced-updater">Advanced updater</a></li>
<li class="toctree-l3"><a class="reference internal" href="../network/ota.html#server-request-handling">Server request handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../network/ota.html#id3">Simple updater</a></li>
<li class="toctree-l3"><a class="reference internal" href="../network/ota.html#id4">Advanced updater</a></li>
<li class="toctree-l3"><a class="reference internal" href="../network/ota.html#stream-interface">Stream Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="../network/ota.html#updater-class">Updater class</a></li>
<li class="toctree-l3"><a class="reference internal" href="../network/ota.html#update-process-memory-view">Update process - memory view</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Dự án</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../projects/flappy-bird.html">Game Flappy Bird</a></li>
<li class="toctree-l1"><a class="reference internal" href="../projects/heart-rate.html">Đo nhịp tim</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../projects/heart-rate.html#demo">Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/heart-rate.html#chuan-bi">Chuẩn bị</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/heart-rate.html#dau-noi">Đấu nối</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/heart-rate.html#cai-dat-thu-vien">Cài đặt thư viện</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/heart-rate.html#video-cai-dat">Video Cài đặt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/heart-rate.html#lap-trinh">Lập trình</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/heart-rate.html#luu-y">Lưu ý</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../projects/onewire.html">Cảm biến nhiệt độ (onewire)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../projects/onewire.html#demo">Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/onewire.html#chuan-bi">Chuẩn bị</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/onewire.html#dau-noi">Đấu nối</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/onewire.html#cai-dat-thu-vien">Cài đặt thư viện</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/onewire.html#lap-trinh">Lập trình</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/onewire.html#luu-y">Lưu ý</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../projects/dht11-thingspeak.html">Đo nhiệt độ độ ẩm và gởi lên Thingspeak</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../projects/dht11-thingspeak.html#demo">Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/dht11-thingspeak.html#chuan-bi">Chuẩn bị</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/dht11-thingspeak.html#dau-noi">Đấu nối</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/dht11-thingspeak.html#cai-dat-thu-vien">Cài đặt thư viện</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/dht11-thingspeak.html#lap-trinh">Lập trình</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/dht11-thingspeak.html#luu-y">Lưu ý</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../projects/sensor-photodiode.html">Photodiode</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../projects/sensor-photodiode.html#demo">Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/sensor-photodiode.html#chuan-bi">Chuẩn bị</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/sensor-photodiode.html#dau-noi">Đấu nối</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/sensor-photodiode.html#cai-dat-thu-vien">Cài đặt thư viện</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/sensor-photodiode.html#lap-trinh">Lập trình</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../projects/sensor-voice.html">Cảm biến âm thanh</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../projects/sensor-voice.html#demo">Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/sensor-voice.html#chuan-bi">Chuẩn bị</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/sensor-voice.html#dau-noi">Đấu nối</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/sensor-voice.html#bang-dau-noi">Bảng đấu nối</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/sensor-voice.html#cai-dat-thu-vien">Cài đặt thư viện</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/sensor-voice.html#video-cai-dat">Video Cài đặt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/sensor-voice.html#lap-trinh">Lập trình</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/sensor-voice.html#luu-y">Lưu ý</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../projects/PIR.html">Cảm biến chuyển động HC-SR501</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../projects/PIR.html#demo">Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/PIR.html#chuan-bi">Chuẩn bị</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/PIR.html#dau-noi">Đấu nối</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/PIR.html#cai-dat-thu-vien">Cài đặt thư viện</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/PIR.html#lap-trinh">Lập trình</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/PIR.html#luu-y">Lưu ý</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../projects/BMP280.html">Cảm biến áp suất BMP280</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../projects/BMP280.html#demo">Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/BMP280.html#chuan-bi">Chuẩn bị</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/BMP280.html#dau-noi">Đấu nối</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/BMP280.html#cai-dat-thu-vien">Cài đặt thư viện</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/BMP280.html#lap-trinh">Lập trình</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/BMP280.html#luu-y">Lưu ý</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../projects/4led7seg.html">Led 7 đoạn 4 số</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../projects/4led7seg.html#demo">Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/4led7seg.html#chuan-bi">Chuẩn bị</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/4led7seg.html#dau-noi">Đấu nối</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/4led7seg.html#cai-dat-thu-vien">Cài đặt thư viện</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/4led7seg.html#lap-trinh">Lập trình</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../projects/led-matrix-max7219.html">Hiển thị ký tự với module led matrix MAX7219</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../projects/led-matrix-max7219.html#demo">Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/led-matrix-max7219.html#chuan-bi">Chuẩn bị</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/led-matrix-max7219.html#dau-noi">Đấu nối</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/led-matrix-max7219.html#cai-dat-thu-vien">Cài đặt thư viện</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/led-matrix-max7219.html#lap-trinh">Lập trình</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/led-matrix-max7219.html#luu-y">Lưu ý</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../projects/led-3mau-rgb.html">Moudule led 3 màu RGB</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../projects/led-3mau-rgb.html#demo">Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/led-3mau-rgb.html#chuan-bi">Chuẩn bị</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/led-3mau-rgb.html#dau-noi">Đấu nối</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/led-3mau-rgb.html#lap-trinh">Lập trình</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/led-3mau-rgb.html#luu-y">Lưu ý</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../projects/joystick.html">Đọc dữ liệu từ Joystick</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../projects/joystick.html#demo">Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/joystick.html#chuan-bi">Chuẩn bị</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/joystick.html#huong-dan">Hướng dẫn</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/joystick.html#dau-noi">Đấu nối</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/joystick.html#cai-dat-thu-vien">Cài đặt thư viện</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/joystick.html#lap-trinh">Lập trình</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/joystick.html#luu-y">Lưu ý</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../projects/led-12.html">Vòng 12 LED RGB</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../projects/led-12.html#demo">Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/led-12.html#chuan-bi">Chuẩn bị</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/led-12.html#dau-noi">Đấu nối</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/led-12.html#cai-dat-thu-vien">Cài đặt thư viện</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/led-12.html#lap-trinh">Lập trình</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/led-12.html#luu-y">Lưu ý</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../projects/servo-motor.html">Động cơ servo</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../projects/servo-motor.html#demo">Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/servo-motor.html#chuan-bi">Chuẩn bị</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/servo-motor.html#dau-noi">Đấu nối</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/servo-motor.html#cai-dat-thu-vien">Cài đặt thư viện</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/servo-motor.html#video-cai-dat">Video Cài đặt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/servo-motor.html#lap-trinh">Lập trình</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/servo-motor.html#luu-y">Lưu ý</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../projects/color-sensor.html">Cảm biến màu sắc</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../projects/color-sensor.html#demo">Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/color-sensor.html#chuan-bi">Chuẩn bị</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/color-sensor.html#dau-noi">Đấu nối</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/color-sensor.html#cai-dat-thu-vien">Cài đặt thư viện</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/color-sensor.html#video-cai-dat">Video Cài đặt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/color-sensor.html#lap-trinh">Lập trình</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/color-sensor.html#luu-y">Lưu ý</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../projects/rain-sensor.html">Cảm biến mưa</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../projects/rain-sensor.html#demo">Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/rain-sensor.html#chuan-bi">Chuẩn bị</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/rain-sensor.html#dau-noi">Đấu nối</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/rain-sensor.html#cai-dat-thu-vien">Cài đặt thư viện</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/rain-sensor.html#lap-trinh">Lập trình</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../projects/keypad4x4.html">Ma trận phím 4x4</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../projects/keypad4x4.html#demo">Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/keypad4x4.html#chuan-bi">Chuẩn bị</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/keypad4x4.html#dau-noi">Đấu nối</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/keypad4x4.html#cai-dat-thu-vien">Cài đặt thư viện</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/keypad4x4.html#video-cai-dat">Video Cài đặt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/keypad4x4.html#lap-trinh">Lập trình</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/keypad4x4.html#luu-y">Lưu ý</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Tài liệu ESP8266</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://espressif.com/sites/default/files/documentation/esp8266-technical_reference_en.pdf">Technical Reference Manual (PDF)</a></li>
<li class="toctree-l1"><a class="reference external" href="https://espressif.com/sites/default/files/documentation/0d-esp8266_pin_list_release_15-11-2014.xlsx">Pin List and Functions (XLSX)</a></li>
<li class="toctree-l1"><a class="reference external" href="https://espressif.com/en/products/hardware/esp8266ex/resources">Tài nguyên chính thống</a></li>
</ul>
<p class="caption"><span class="caption-text">Đóng góp và bản quyền</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Hướng dẫn đóng góp</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#cai-dat-cong-cu-can-thiet">Cài đặt công cụ cần thiết</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#viet-bai">Viết bài</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#mot-so-luu-y-khac">Một số lưu ý khác</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#danh-sach-cac-thanh-vien-da-dong-gop">Danh sách các thành viên đã đóng góp</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Lập trình IoT với ESP8266 Arduino</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Wi-Fi</a> &raquo;</li>
        
      <li>WiFi Station</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/wifi/station.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="wifi-station">
<h1>WiFi Station<a class="headerlink" href="#wifi-station" title="Permalink to this headline">¶</a></h1>
<div class="section" id="khai-niem-co-ban">
<h2>Khái niệm cơ bản<a class="headerlink" href="#khai-niem-co-ban" title="Permalink to this headline">¶</a></h2>
<p>Thiết bị kết nối vào mạng WIFI được gọi là station (trạm). Việc kết nối vào mạng Wifi được hỗ trợ bởi một access point (AP), một AP có chức năng như một hub nhưng dùng cho nhiều station. Một access point thông thường được kết nối vào một mạng dây để phát WIFI (tức là chuyển từ mạng dây sang WIFI). Do đó access point luôn được tích hợp vào router. Mỗi access point được nhận biết bằng một SSID (Service Set IDentifier), SSID cũng là tên của mạng hiển thị khi ta kết nối vào WIFI.</p>
<p>Thư viện ESP8266WiFi.h có hỗ trợ các câu lệnh để module thưc hiện việc kết nối vào WIFI (làm chức năng của station).</p>
<p>Nội dung của lớp này được chia thành 4 phần:</p>
<ul class="simple">
<li>Thứ nhất, các phương pháp để kết nối đến một điểm truy cập</li>
<li>Thứ hai, cung cấp các phương pháp để quản lý kết nối như <code class="docutils literal"><span class="pre">reconnect</span></code> hay <code class="docutils literal"><span class="pre">isConnected</span></code>.</li>
<li>Thứ ba, các hàm để lấy các thuộc tính về kết nối như MAC hay địa chỉ IP.</li>
<li>Thứ tư, cung cấp các cách để kết nối như WPS hay Smart Config.</li>
</ul>
</div>
<div class="section" id="muc-luc">
<h2>Mục lục<a class="headerlink" href="#muc-luc" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="#ket-noi0"><span class="std std-ref">Kết nối</span></a><ul>
<li><a class="reference internal" href="#begin0"><span class="std std-ref">begin</span></a></li>
<li><span class="xref std std-ref">config0</span></li>
</ul>
</li>
<li><a class="reference internal" href="#quan-ly-ket-noi0"><span class="std std-ref">Quản lý kết nối</span></a><ul>
<li><a class="reference internal" href="#reconnect0"><span class="std std-ref">reconnect</span></a></li>
<li><a class="reference internal" href="#disconnect0"><span class="std std-ref">disconnect</span></a></li>
<li><span class="xref std std-ref">isConnected0</span></li>
<li><a class="reference internal" href="#setautoconnect0"><span class="std std-ref">setAutoConnect</span></a></li>
<li><a class="reference internal" href="#getautoconnect0"><span class="std std-ref">getAutoConnect</span></a></li>
<li><a class="reference internal" href="#setautoreconnect0"><span class="std std-ref">setAutoReconnect</span></a></li>
<li><a class="reference internal" href="#waitforconnectresult0"><span class="std std-ref">waitForConnectResult</span></a></li>
</ul>
</li>
<li><a class="reference internal" href="#cau-hinh0"><span class="std std-ref">Cấu hình</span></a><ul>
<li><a class="reference internal" href="#macaddress0"><span class="std std-ref">macAddress</span></a></li>
<li><a class="reference internal" href="#localip0"><span class="std std-ref">localIP</span></a></li>
<li><a class="reference internal" href="#subnetmask0"><span class="std std-ref">subnetMask</span></a></li>
<li><a class="reference internal" href="#gatewayip0"><span class="std std-ref">gatewayIP</span></a></li>
<li><a class="reference internal" href="#dnsip0"><span class="std std-ref">dnsIP</span></a></li>
<li><a class="reference internal" href="#hostname0"><span class="std std-ref">hostname</span></a></li>
<li><a class="reference internal" href="#status0"><span class="std std-ref">status</span></a></li>
<li><a class="reference internal" href="#ssid0"><span class="std std-ref">SSID</span></a></li>
<li><a class="reference internal" href="#psk0"><span class="std std-ref">psk</span></a></li>
<li><a class="reference internal" href="#bssid0"><span class="std std-ref">BSSID</span></a></li>
<li><a class="reference internal" href="#rssi0"><span class="std std-ref">RSSI</span></a></li>
</ul>
</li>
<li><a class="reference internal" href="#ket-noi-khac0"><span class="std std-ref">Kết nối khác</span></a><ul>
<li><a class="reference internal" href="#wps0"><span class="std std-ref">WPS</span></a></li>
<li><a class="reference internal" href="#smart-config0"><span class="std std-ref">Smart Config</span></a></li>
</ul>
</li>
</ul>
<div class="section" id="ket-noi">
<span id="ket-noi0"></span><h3>Kết nối<a class="headerlink" href="#ket-noi" title="Permalink to this headline">¶</a></h3>
<div class="section" id="begin">
<span id="begin0"></span><h4>begin<a class="headerlink" href="#begin" title="Permalink to this headline">¶</a></h4>
<p>Để chuyển đối sang chế độ <em>station</em>, ta dùng hàm <code class="docutils literal"><span class="pre">begin</span></code>. Các tham số cần thiết sẽ là <em>SSID</em> và <em>password</em>, để module có thể kết nối đến một Access Point (AP) cụ thể.</p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">WiFi</span><span class="o">.</span><span class="n">begin</span><span class="p">(</span><span class="n">ssid</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
</pre></div>
</div>
<p>Theo mặc định, ESP sẽ cố kết nối lại đến mạng WiFi sau khi bị <em>disconnect</em>. Do đó chúng ta không cần phải xử lý việc này trong code.</p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">WiFi</span><span class="o">.</span><span class="n">begin</span><span class="p">()</span>
</pre></div>
</div>
<p>Gọi hàm này module sẽ chuyển sang chế độ station và kết nối với điểm truy cập cuối cùng được sử dụng dựa trên cấu hình được lưu trong bộ nhớ flash.
Để thiết lập tất cả các thông số, ta có thể dùng lệnh:</p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">WiFi</span><span class="o">.</span><span class="n">begin</span><span class="p">(</span><span class="n">ssid</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">bssid</span><span class="p">,</span> <span class="n">connect</span><span class="p">)</span>
</pre></div>
</div>
<p>Các thông số:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">ssid</span></code>: tên WiFi của điểm truy cập mà chúng ta muốn kết nối đến, có thể có tối đa lên đến 32 ký tự.</li>
<li><code class="docutils literal"><span class="pre">password</span></code>: mật khẩu của điểm truy cập, có độ dài từ 8 đến 64 ký tự.</li>
<li><code class="docutils literal"><span class="pre">channel</span></code>: thiết lập kênh cho WiFi, tham số này có thể bỏ qua.</li>
<li><code class="docutils literal"><span class="pre">bssid</span></code>: địa chỉ MAC của AP</li>
<li><code class="docutils literal"><span class="pre">connect</span></code>: nếu giá trị là <code class="docutils literal"><span class="pre">false</span></code>, module sẽ lưu các tham số nhưng không thiết lập kết nối đến điểm truy cập.</li>
</ul>
</div>
<div class="section" id="config">
<span id="id1"></span><h4>config<a class="headerlink" href="#config" title="Permalink to this headline">¶</a></h4>
<p>Lệnh này sẽ vô hiệu hóa DHCP và thiết lập cấu hình IP tĩnh cho <em>station</em>.</p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">WiFi</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">local_ip</span><span class="p">,</span> <span class="n">gateway</span><span class="p">,</span> <span class="n">subnet</span><span class="p">,</span> <span class="n">dns1</span><span class="p">,</span> <span class="n">dns2</span><span class="p">)</span>
</pre></div>
</div>
<p>Các đối số:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">local_ip</span></code>: IP tĩnh bạn muốn gán cho module</li>
<li><code class="docutils literal"><span class="pre">gateway</span></code>: IP của gateway (thường là router) để kết nối ra mạng bên ngoài</li>
<li><code class="docutils literal"><span class="pre">subnet</span></code>: subnet xác định phạm vi IP của mạng nội bộ</li>
<li><code class="docutils literal"><span class="pre">dns1,</span> <span class="pre">dns2</span></code>: các tham số tùy chọn của máy chủ phân giải tên miền</li>
</ul>
<p>Ví dụ:</p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="c1">#include &lt;ESP8266WiFi.h&gt;</span>

<span class="n">const</span> <span class="n">char</span><span class="o">*</span> <span class="n">ssid</span> <span class="o">=</span> <span class="s2">&quot;********&quot;</span><span class="p">;</span>
<span class="n">const</span> <span class="n">char</span><span class="o">*</span> <span class="n">password</span> <span class="o">=</span> <span class="s2">&quot;********&quot;</span><span class="p">;</span>

<span class="n">IPAddress</span> <span class="n">staticIP</span><span class="p">(</span><span class="mi">192</span><span class="p">,</span><span class="mi">168</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">22</span><span class="p">);</span>
<span class="n">IPAddress</span> <span class="n">gateway</span><span class="p">(</span><span class="mi">192</span><span class="p">,</span><span class="mi">168</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">9</span><span class="p">);</span>
<span class="n">IPAddress</span> <span class="n">subnet</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>

<span class="n">void</span> <span class="n">setup</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">Serial</span><span class="o">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">115200</span><span class="p">);</span>
  <span class="n">Serial</span><span class="o">.</span><span class="n">println</span><span class="p">();</span>

  <span class="n">Serial</span><span class="o">.</span><span class="n">printf</span><span class="p">(</span><span class="s2">&quot;Connecting to </span><span class="si">%s</span><span class="s2"> </span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ssid</span><span class="p">);</span>
  <span class="n">WiFi</span><span class="o">.</span><span class="n">begin</span><span class="p">(</span><span class="n">ssid</span><span class="p">,</span> <span class="n">password</span><span class="p">);</span>
  <span class="n">WiFi</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">staticIP</span><span class="p">,</span> <span class="n">gateway</span><span class="p">,</span> <span class="n">subnet</span><span class="p">);</span>
  <span class="k">while</span> <span class="p">(</span><span class="n">WiFi</span><span class="o">.</span><span class="n">status</span><span class="p">()</span> <span class="o">!=</span> <span class="n">WL_CONNECTED</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
    <span class="n">Serial</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="n">Serial</span><span class="o">.</span><span class="n">println</span><span class="p">();</span>
  <span class="n">Serial</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="s2">&quot;Connected, IP address: &quot;</span><span class="p">);</span>
  <span class="n">Serial</span><span class="o">.</span><span class="n">println</span><span class="p">(</span><span class="n">WiFi</span><span class="o">.</span><span class="n">localIP</span><span class="p">());</span>
<span class="p">}</span>

<span class="n">void</span> <span class="n">loop</span><span class="p">()</span> <span class="p">{}</span>
</pre></div>
</div>
<p><em>output</em></p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">Connecting</span> <span class="n">to</span> <span class="n">gith</span><span class="o">-</span><span class="n">wifi</span>
<span class="o">.</span>
<span class="n">Connected</span><span class="p">,</span> <span class="n">IP</span> <span class="n">address</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">1.22</span>
</pre></div>
</div>
</div>
<div class="section" id="video-demo">
<h4>Video DEMO<a class="headerlink" href="#video-demo" title="Permalink to this headline">¶</a></h4>
<iframe width="640" height="360" src="//www.youtube.com/embed/OYP7lckCxRg?feature=player_detailpage" frameborder="0" allowfullscreen="1">&nbsp;</iframe></div>
</div>
<div class="section" id="quan-ly-ket-noi">
<span id="quan-ly-ket-noi0"></span><h3>Quản lý kết nối<a class="headerlink" href="#quan-ly-ket-noi" title="Permalink to this headline">¶</a></h3>
<div class="section" id="reconnect">
<span id="reconnect0"></span><h4>reconnect<a class="headerlink" href="#reconnect" title="Permalink to this headline">¶</a></h4>
<p>Điều này được thực hiện bằng cách ngắt kết nối sau đó thiết lập kết nối lại đến cùng một điểm truy cập.</p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">WiFi</span><span class="o">.</span><span class="n">reconnect</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Ghi chú</p>
<ul class="last simple">
<li>Trạm phải được kết nối đến một điểm truy cập. Nếu không sẽ trả về <code class="docutils literal"><span class="pre">false</span></code> và không thực hiện bất kỳ hành động nào.</li>
<li>Nếu trả về <code class="docutils literal"><span class="pre">true</span></code> có nghĩa là kết nối đã được thiết lập lại, bạn vẫn phải kiểm tra trạng thái kết nối, chờ đợi cho kết khi báo cáo <code class="docutils literal"><span class="pre">WL_CONNECTED</span></code></li>
</ul>
</div>
<p>Ví dụ:</p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">WiFi</span><span class="o">.</span><span class="n">reconnect</span><span class="p">();</span>
<span class="k">while</span> <span class="p">(</span><span class="n">WiFi</span><span class="o">.</span><span class="n">status</span><span class="p">()</span> <span class="o">!=</span> <span class="n">WL_CONNECTED</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
  <span class="n">Serial</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="disconnect">
<span id="disconnect0"></span><h4>disconnect<a class="headerlink" href="#disconnect" title="Permalink to this headline">¶</a></h4>
<p>Thiết lập cấu hình <code class="docutils literal"><span class="pre">ssid</span></code> và <code class="docutils literal"><span class="pre">password</span></code> thành <code class="docutils literal"><span class="pre">null</span></code> và thực hiện ngắt kết nối đến điểm truy cập.</p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">WiFi</span><span class="o">.</span><span class="n">disconnect</span><span class="p">(</span><span class="n">wifioff</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li>Đối số <code class="docutils literal"><span class="pre">wifioff</span></code> là tham số tùy chọn kiểu <em>boolean</em>, nếu là <code class="docutils literal"><span class="pre">true</span></code> thì chế độ trạm (station mode) sẽ bị tắt.</li>
</ul>
</div>
<div class="section" id="isconnected">
<span id="id2"></span><h4>isConnected<a class="headerlink" href="#isconnected" title="Permalink to this headline">¶</a></h4>
<p>Trả về <code class="docutils literal"><span class="pre">true</span></code> nếu Station kết nối với một điểm truy cập hoặc <code class="docutils literal"><span class="pre">false</span></code> nếu không.</p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">WiFi</span><span class="o">.</span><span class="n">isConnected</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="setautoconnect">
<span id="setautoconnect0"></span><h4>setAutoConnect<a class="headerlink" href="#setautoconnect" title="Permalink to this headline">¶</a></h4>
<p>Định cấu hình module để tự động kết nối khi cấp nguồn đến điểm truy cập cuối cùng được sử dụng.</p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">WiFi</span><span class="o">.</span><span class="n">setAutoConnect</span><span class="p">(</span><span class="n">autoConnect</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">autoConnect</span></code> đây là tham số tùy chọn. Nếu đặt là <code class="docutils literal"><span class="pre">false</span></code> thì chức năng kết nối tự động sẽ bị tắt, nếu là <code class="docutils literal"><span class="pre">true</span></code> hoặc bỏ qua thì kết nối tự động sẽ được kích hoạt.</p>
</div>
<div class="section" id="getautoconnect">
<span id="getautoconnect0"></span><h4>getAutoConnect<a class="headerlink" href="#getautoconnect" title="Permalink to this headline">¶</a></h4>
<p>Đây là chức năng đi đôi với <code class="docutils literal"><span class="pre">setAutoConnect()</span></code>. Nó trả về <code class="docutils literal"><span class="pre">true</span></code> nếu module được cấu hình để tự động kết nối với điểm truy cập được sử dụng lần cuối khi bật nguồn.</p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">WiFi</span><span class="o">.</span><span class="n">getAutoConnect</span><span class="p">()</span>
</pre></div>
</div>
<p>Trả về <code class="docutils literal"><span class="pre">false</span></code> nếu chức năng tự động kết nối bị vô hiệu.</p>
</div>
<div class="section" id="setautoreconnect">
<span id="setautoreconnect0"></span><h4>setAutoReconnect<a class="headerlink" href="#setautoreconnect" title="Permalink to this headline">¶</a></h4>
<p>Thiết đặt cho module tự động kết nối lại với một điểm truy cập trong trường hợp nó bị ngắt kết nối.</p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">WiFi</span><span class="o">.</span><span class="n">setAutoReconnect</span><span class="p">(</span><span class="n">autoReconnect</span><span class="p">)</span>
</pre></div>
</div>
<p>Nếu tham số <code class="docutils literal"><span class="pre">autoReconnect</span></code> được đặt thành <code class="docutils literal"><span class="pre">true</span></code>, thì module sẽ cố gắng thiết lập lại kết nối bị mất với AP. Nếu thiết lập để <code class="docutils literal"><span class="pre">false</span></code> module sẽ không thực hiện kết nối lại.</p>
<div class="admonition note">
<p class="first admonition-title">Ghi chú</p>
<p class="last">Chạy <code class="docutils literal"><span class="pre">setAutoReconnect(true)</span></code> khi module đã bị ngắt kết nối sẽ không kết nối lại với điểm truy cập. Thay vào đó <code class="docutils literal"><span class="pre">reconnect()</span></code> nên sử dụng.</p>
</div>
</div>
<div class="section" id="waitforconnectresult">
<span id="waitforconnectresult0"></span><h4>waitForConnectResult<a class="headerlink" href="#waitforconnectresult" title="Permalink to this headline">¶</a></h4>
<p>Chờ cho đến khi module kết nối với điểm truy cập. Chức năng này dành cho các module được cấu hình trong chế độ <code class="docutils literal"><span class="pre">STA</span></code> hoặc <code class="docutils literal"><span class="pre">STA</span> <span class="pre">+</span> <span class="pre">AP</span></code></p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">WiFi</span><span class="o">.</span><span class="n">waitForConnectResult</span><span class="p">()</span>
</pre></div>
</div>
<p>Chức năng trả về một trong các trạng thái kết nối sau đây:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">WL_CONNECTED</span></code> - Sau khi kết nối thành công được thiết lập</li>
<li><code class="docutils literal"><span class="pre">WL_NO_SSID_AVAIL</span></code> - Trong trường hợp cấu hình SSID không thể đạt được</li>
<li><code class="docutils literal"><span class="pre">WL_CONNECT_FAILED</span></code> - Nếu mật khẩu không chính xác</li>
<li><code class="docutils literal"><span class="pre">WL_IDLE_STATUS</span></code> - Khi WiFi đang trong quá trình thay đổi giữa các trạng thái</li>
<li><code class="docutils literal"><span class="pre">WL_DISCONNECTED</span></code> - Nếu module không được cấu hình trong chế độ station</li>
</ul>
</div>
</div>
<div class="section" id="cau-hinh">
<span id="cau-hinh0"></span><h3>Cấu hình<a class="headerlink" href="#cau-hinh" title="Permalink to this headline">¶</a></h3>
<div class="section" id="macaddress">
<span id="macaddress0"></span><h4>macAddress<a class="headerlink" href="#macaddress" title="Permalink to this headline">¶</a></h4>
<p>Lấy địa chỉ MAC của ESP station</p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">WiFi</span><span class="o">.</span><span class="n">macAddress</span><span class="p">(</span><span class="n">mac</span><span class="p">)</span>
</pre></div>
</div>
<p>Với <code class="docutils literal"><span class="pre">mac</span></code> đó là một con trỏ đến vị trí bộ nhớ (một mảng uint8_t có 6 phần tử) để lưu địa chỉ mac. Cùng một giá trị con trỏ được trả về bởi chính hàm đó.</p>
<p>Ví dụ:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">WiFi</span><span class="p">.</span><span class="n">status</span><span class="p">()</span> <span class="o">==</span> <span class="n">WL_CONNECTED</span><span class="p">)</span>
<span class="p">{</span>
  <span class="kt">uint8_t</span> <span class="n">macAddr</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
  <span class="n">WiFi</span><span class="p">.</span><span class="n">macAddress</span><span class="p">(</span><span class="n">macAddr</span><span class="p">);</span>
  <span class="n">Serial</span><span class="p">.</span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Connected, mac address: %02x:%02x:%02x:%02x:%02x:%02x</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">macAddr</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">macAddr</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">macAddr</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">macAddr</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">macAddr</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">macAddr</span><span class="p">[</span><span class="mi">5</span><span class="p">]);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Nếu bạn không muốn sử dụng con trỏ, bạn có thẻ dùng lệnh dưới, nó trả về một định dạng <code class="docutils literal"><span class="pre">String</span></code> chứa địa chỉ mac:</p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">WiFi</span><span class="o">.</span><span class="n">macAddress</span><span class="p">()</span>
</pre></div>
</div>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">WiFi</span><span class="o">.</span><span class="n">status</span><span class="p">()</span> <span class="o">==</span> <span class="n">WL_CONNECTED</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">Serial</span><span class="o">.</span><span class="n">printf</span><span class="p">(</span><span class="s2">&quot;Connected, mac address: </span><span class="si">%s</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">WiFi</span><span class="o">.</span><span class="n">macAddress</span><span class="p">()</span><span class="o">.</span><span class="n">c_str</span><span class="p">());</span>
<span class="p">}</span>
</pre></div>
</div>
<p><em>output:</em></p>
<img alt="../_images/mac-address.png" src="../_images/mac-address.png" />
</div>
<div class="section" id="localip">
<span id="localip0"></span><h4>localIP<a class="headerlink" href="#localip" title="Permalink to this headline">¶</a></h4>
<p>Chức năng dùng để lấy địa chỉ IP của ESP station</p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">WiFi</span><span class="o">.</span><span class="n">localIP</span><span class="p">()</span>
</pre></div>
</div>
<p>Kiểu trả về là đại chỉ IP của module ESP8266.</p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">WiFi</span><span class="o">.</span><span class="n">status</span><span class="p">()</span> <span class="o">==</span> <span class="n">WL_CONNECTED</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">Serial</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="s2">&quot;Connected, IP address: &quot;</span><span class="p">);</span>
  <span class="n">Serial</span><span class="o">.</span><span class="n">println</span><span class="p">(</span><span class="n">WiFi</span><span class="o">.</span><span class="n">localIP</span><span class="p">());</span>
<span class="p">}</span>
</pre></div>
</div>
<p><em>output:</em></p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">Connected</span><span class="p">,</span> <span class="n">IP</span> <span class="n">address</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">1.10</span>
</pre></div>
</div>
</div>
<div class="section" id="subnetmask">
<span id="subnetmask0"></span><h4>subnetMask<a class="headerlink" href="#subnetmask" title="Permalink to this headline">¶</a></h4>
<p>Trả về subnet mask của ESP station</p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">WiFi</span><span class="o">.</span><span class="n">subnetMask</span><span class="p">()</span>
</pre></div>
</div>
<p>Module nên được kết nối với điểm truy cập. Nếu không sẽ trả về 0.0.0.0</p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">Serial</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="s2">&quot;Subnet mask: &quot;</span><span class="p">);</span>
<span class="n">Serial</span><span class="o">.</span><span class="n">println</span><span class="p">(</span><span class="n">WiFi</span><span class="o">.</span><span class="n">subnetMask</span><span class="p">());</span>
</pre></div>
</div>
<p><em>output:</em></p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">Subnet</span> <span class="n">mask</span><span class="p">:</span> <span class="mf">255.255</span><span class="o">.</span><span class="mf">255.0</span>
</pre></div>
</div>
</div>
<div class="section" id="gatewayip">
<span id="gatewayip0"></span><h4>gatewayIP<a class="headerlink" href="#gatewayip" title="Permalink to this headline">¶</a></h4>
<p>Lấy địa chỉ IP của gateway</p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">WiFi</span><span class="o">.</span><span class="n">gatewayIP</span><span class="p">()</span>
</pre></div>
</div>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">Serial</span><span class="o">.</span><span class="n">printf</span><span class="p">(</span><span class="s2">&quot;Gataway IP: </span><span class="si">%s</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">WiFi</span><span class="o">.</span><span class="n">gatewayIP</span><span class="p">()</span><span class="o">.</span><span class="n">toString</span><span class="p">()</span><span class="o">.</span><span class="n">c_str</span><span class="p">());</span>
</pre></div>
</div>
<p><em>output:</em></p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">Gateway</span> <span class="n">IP</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">1.9</span>
</pre></div>
</div>
</div>
<div class="section" id="dnsip">
<span id="dnsip0"></span><h4>dnsIP<a class="headerlink" href="#dnsip" title="Permalink to this headline">¶</a></h4>
<p>Lấy địa chỉ IP của Máy chủ Tên miền (DNS).</p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">WiFi</span><span class="o">.</span><span class="n">dnsIP</span><span class="p">(</span><span class="n">dns_no</span><span class="p">)</span>
</pre></div>
</div>
<p>Với tham số đầu vào <code class="docutils literal"><span class="pre">dns_no</span></code> chúng ta có thể chỉ định địa chỉ IP của DNS mà chúng ta cần. Nếu không có tham số nào được cung cấp, thì IP của DNS #1 sẽ được trả về.</p>
<p>Ví dụ;</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;DNS #1, #2 IP: &quot;</span><span class="p">);</span>
<span class="n">WiFi</span><span class="p">.</span><span class="n">dnsIP</span><span class="p">().</span><span class="n">printTo</span><span class="p">(</span><span class="n">Serial</span><span class="p">);</span>
<span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;, &quot;</span><span class="p">);</span>
<span class="n">WiFi</span><span class="p">.</span><span class="n">dnsIP</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">printTo</span><span class="p">(</span><span class="n">Serial</span><span class="p">);</span>
<span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
</pre></div>
</div>
<p><em>output:</em></p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">DNS</span> <span class="c1">#1, #2 IP: 62.179.1.60, 62.179.1.61</span>
</pre></div>
</div>
</div>
<div class="section" id="hostname">
<span id="hostname0"></span><h4>hostname<a class="headerlink" href="#hostname" title="Permalink to this headline">¶</a></h4>
<p>Lấy DHCP hostname được gán cho ESP station.</p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">WiFi</span><span class="o">.</span><span class="n">hostname</span><span class="p">()</span>
</pre></div>
</div>
<p>Trả về kiểu <code class="docutils literal"><span class="pre">String</span></code>. Tên máy chủ mặc định ở định dạng <strong>ESP_24xMAC</strong> với 24xMAC là 24 bit cuối cùng của địa chỉ MAC của module.</p>
<p>Tên máy chủ có thể được thay đổi bằng cách sử dụng chức năng sau:</p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">WiFi</span><span class="o">.</span><span class="n">hostname</span><span class="p">(</span><span class="n">aHostname</span><span class="p">)</span>
</pre></div>
</div>
<p>Tham số đầu vào <code class="docutils literal"><span class="pre">aHostname</span></code> có thể là một kiểu <code class="docutils literal"><span class="pre">char*</span></code>, <code class="docutils literal"><span class="pre">const</span> <span class="pre">char*</span></code> hoặc <code class="docutils literal"><span class="pre">String</span></code>. Chiều dài tối đa của tên máy chủ được chỉ định là 32 ký tự. Chức năng trả về <code class="docutils literal"><span class="pre">true</span></code> hoặc <code class="docutils literal"><span class="pre">false</span></code> phụ thuộc vào kết quả.</p>
<p>Ví dụ, nếu giới hạn 32 ký tự vượt quá, chức năng sẽ trả lại <code class="docutils literal"><span class="pre">false</span></code> mà không gán tên máy chủ mới.</p>
<p>Ví dụ:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">Serial</span><span class="p">.</span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Default hostname: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">WiFi</span><span class="p">.</span><span class="n">hostname</span><span class="p">().</span><span class="n">c_str</span><span class="p">());</span>
<span class="n">WiFi</span><span class="p">.</span><span class="n">hostname</span><span class="p">(</span><span class="s">&quot;Station_Tester_02&quot;</span><span class="p">);</span>
<span class="n">Serial</span><span class="p">.</span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;New hostname: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">WiFi</span><span class="p">.</span><span class="n">hostname</span><span class="p">().</span><span class="n">c_str</span><span class="p">());</span>
</pre></div>
</div>
<p><em>output:</em></p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">Default</span> <span class="n">hostname</span><span class="p">:</span> <span class="n">ESP_081117</span>
<span class="n">New</span> <span class="n">hostname</span><span class="p">:</span> <span class="n">Station_Tester_02</span>
</pre></div>
</div>
</div>
<div class="section" id="status">
<span id="status0"></span><h4>status<a class="headerlink" href="#status" title="Permalink to this headline">¶</a></h4>
<p>Trả về trạng thái kết nối Wi-Fi.</p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">WiFi</span><span class="o">.</span><span class="n">status</span><span class="p">()</span>
</pre></div>
</div>
<p>Chức năng trả về một trong các trạng thái kết nối sau đây:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">WL_CONNECTED</span></code> - Sau khi kết nối thành công được thiết lập</li>
<li><code class="docutils literal"><span class="pre">WL_NO_SSID_AVAIL</span></code> - Trong trường hợp cấu hình SSID không thể đạt được</li>
<li><code class="docutils literal"><span class="pre">WL_CONNECT_FAILED</span></code> - Nếu mật khẩu không chính xác</li>
<li><code class="docutils literal"><span class="pre">WL_IDLE_STATUS</span></code> - Khi Wi-Fi đang trong quá trình thay đổi giữa các trạng thái</li>
<li><code class="docutils literal"><span class="pre">WL_DISCONNECTED</span></code> - Nếu module không được cấu hình trong chế độ trạm</li>
</ul>
<p>Giá trị trả lại kiểu <code class="docutils literal"><span class="pre">wl_status_t</span></code> được định nghĩa trong <em>wl_definitions.h</em></p>
<p>Ví dụ:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;ESP8266WiFi.h&gt;</span><span class="cp"></span>

<span class="kt">void</span> <span class="nf">setup</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">115200</span><span class="p">);</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Connection status: %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">WiFi</span><span class="p">.</span><span class="n">status</span><span class="p">());</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Connecting to %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">ssid</span><span class="p">);</span>
    <span class="n">WiFi</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="n">ssid</span><span class="p">,</span> <span class="n">password</span><span class="p">);</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Connection status: %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">WiFi</span><span class="p">.</span><span class="n">status</span><span class="p">());</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">WiFi</span><span class="p">.</span><span class="n">status</span><span class="p">()</span> <span class="o">!=</span> <span class="n">WL_CONNECTED</span><span class="p">)</span>
    <span class="p">{</span>
    <span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;.&quot;</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">Connection status: %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">WiFi</span><span class="p">.</span><span class="n">status</span><span class="p">());</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Connected, IP address: &quot;</span><span class="p">);</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">WiFi</span><span class="p">.</span><span class="n">localIP</span><span class="p">());</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span> <span class="p">{}</span>
</pre></div>
</div>
<p><em>output:</em></p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">Connection</span> <span class="n">status</span><span class="p">:</span> <span class="mi">6</span>
<span class="n">Connecting</span> <span class="n">to</span> <span class="n">sensor</span><span class="o">-</span><span class="n">net</span>
<span class="n">Connection</span> <span class="n">status</span><span class="p">:</span> <span class="mi">6</span>
<span class="o">......</span>
<span class="n">Connection</span> <span class="n">status</span><span class="p">:</span> <span class="mi">3</span>
<span class="n">Connected</span><span class="p">,</span> <span class="n">IP</span> <span class="n">address</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">1.10</span>
</pre></div>
</div>
<p>Các trạng thái kết nối đặc biệt 6 và 3 có thể được xem xét trong <em>wl_definitions.h</em> như sau:</p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="o">-</span> <span class="n">WL_CONNECTED</span>
<span class="mi">6</span> <span class="o">-</span> <span class="n">WL_DISCONNECTED</span>
</pre></div>
</div>
<p>Dựa trên ví dụ này, khi chạy trên mã, mô-đun ban đầu bị ngắt kết nối khỏi mạng và trả về trạng thái kết nối 6 - <code class="docutils literal"><span class="pre">WL_DISCONNECTED</span></code>. Nó cũng bị ngắt kết nối ngay sau khi chạy <code class="docutils literal"><span class="pre">WiFi.begin(ssid,</span> <span class="pre">password)</span></code>. Sau đó, sau khoảng 3 giây (dựa trên số dấu chấm được hiển thị mỗi 500ms), cuối cùng nó sẽ được kết nối trở lại trạng thái 3 - <code class="docutils literal"><span class="pre">WL_CONNECTED</span></code>.</p>
</div>
<div class="section" id="ssid">
<span id="ssid0"></span><h4>SSID<a class="headerlink" href="#ssid" title="Permalink to this headline">¶</a></h4>
<p>Trả lại tên của mạng Wi-Fi đã kết nối.</p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">WiFi</span><span class="o">.</span><span class="n">SSID</span><span class="p">()</span>
</pre></div>
</div>
<p>Kiểu trả về <code class="docutils literal"><span class="pre">String</span></code></p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">Serial</span><span class="o">.</span><span class="n">printf</span><span class="p">(</span><span class="s2">&quot;SSID: </span><span class="si">%s</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">WiFi</span><span class="o">.</span><span class="n">SSID</span><span class="p">()</span><span class="o">.</span><span class="n">c_str</span><span class="p">());</span>
</pre></div>
</div>
<p><em>output:</em></p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">SSID</span><span class="p">:</span> <span class="n">sensor</span><span class="o">-</span><span class="n">net</span>
</pre></div>
</div>
</div>
<div class="section" id="psk">
<span id="psk0"></span><h4>psk<a class="headerlink" href="#psk" title="Permalink to this headline">¶</a></h4>
<p>Trả lại mật khẩu hiện tại của WiFi mà module đã kết nối tới:</p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">WiFi</span><span class="o">.</span><span class="n">psk</span><span class="p">()</span>
</pre></div>
</div>
<p>Kiểu trả về <code class="docutils literal"><span class="pre">String</span></code></p>
<p>Ví dụ:</p>
<p>Mô tả: Với module ESP8266 đã kết nối wifi ở trên,ta cần hiển thị password wifi đã kết nối</p>
<p>Ví dụ:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;ESP8266WiFi.h&gt;</span><span class="cp"></span>

<span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">115200</span><span class="p">);</span>
  <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
  <span class="n">Serial</span><span class="p">.</span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;pass: %s &quot;</span><span class="p">,</span> <span class="n">WiFi</span><span class="p">.</span><span class="n">psk</span><span class="p">().</span><span class="n">c_str</span><span class="p">()</span> <span class="p">);</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span> <span class="p">{}</span>
</pre></div>
</div>
<p><em>output:</em></p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="k">pass</span><span class="p">:</span> <span class="nd">@iotmaker</span><span class="o">.</span><span class="n">vn</span>
</pre></div>
</div>
</div>
<div class="section" id="bssid">
<span id="bssid0"></span><h4>BSSID<a class="headerlink" href="#bssid" title="Permalink to this headline">¶</a></h4>
<p>Trả lại địa chỉ mac điểm truy cập mà ESP kết nối đến.</p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">WiFi</span><span class="o">.</span><span class="n">BSSID</span><span class="p">()</span>
</pre></div>
</div>
<p>Trả về một con trỏ đến vị trí nhớ (một mảng <code class="docutils literal"><span class="pre">uint8_t</span></code> với có kích thước là 6), nơi <em>BSSID</em> được lưu.</p>
<p>Hàm dưới đây có chức năng tương tự, nhưng trả lại <em>BSSID</em> là một kiểu <code class="docutils literal"><span class="pre">String</span></code>.</p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">WiFi</span><span class="o">.</span><span class="n">BSSIDstr</span><span class="p">()</span>
</pre></div>
</div>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">Serial</span><span class="o">.</span><span class="n">printf</span><span class="p">(</span><span class="s2">&quot;BSSID: </span><span class="si">%s</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">WiFi</span><span class="o">.</span><span class="n">BSSIDstr</span><span class="p">()</span><span class="o">.</span><span class="n">c_str</span><span class="p">());</span>
</pre></div>
</div>
<p><em>output:</em></p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">BSSID</span><span class="p">:</span> <span class="mi">00</span><span class="p">:</span><span class="mi">1</span><span class="n">A</span><span class="p">:</span><span class="mi">70</span><span class="p">:</span><span class="n">DE</span><span class="p">:</span><span class="n">C1</span><span class="p">:</span><span class="mi">68</span>
</pre></div>
</div>
</div>
<div class="section" id="rssi">
<span id="rssi0"></span><h4>RSSI<a class="headerlink" href="#rssi" title="Permalink to this headline">¶</a></h4>
<p>Trả lại cường độ tín hiệu của mạng Wi-Fi.</p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">WiFi</span><span class="o">.</span><span class="n">RSSI</span><span class="p">()</span>
</pre></div>
</div>
<p>Giá trị cường độ tín hiệu được cung cấp trong <strong>dBm</strong>. Kiểu trả về giá trị là <code class="docutils literal"><span class="pre">int32_t</span></code>.</p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">Serial</span><span class="o">.</span><span class="n">printf</span><span class="p">(</span><span class="s2">&quot;RSSI: </span><span class="si">%d</span><span class="s2"> dBm</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">WiFi</span><span class="o">.</span><span class="n">RSSI</span><span class="p">());</span>
</pre></div>
</div>
<p><em>output:</em></p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">RSSI</span><span class="p">:</span> <span class="o">-</span><span class="mi">68</span> <span class="n">dBm</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="ket-noi-khac">
<span id="ket-noi-khac0"></span><h3>Kết nối khác<a class="headerlink" href="#ket-noi-khac" title="Permalink to this headline">¶</a></h3>
<p>ESP8266 SDK cung cấp các phương pháp thay thế để kết nối trạm ESP với một điểm truy cập. Core esp8266 / Arduino  thực hiện WPS và Smart Config như mô tả dưới đây.</p>
<div class="section" id="wps">
<span id="wps0"></span><h4>WPS<a class="headerlink" href="#wps" title="Permalink to this headline">¶</a></h4>
<p>Chức năng <code class="docutils literal"><span class="pre">beginWPSConfig</span></code> sau đây cho phép kết nối với mạng sử dụng WPS (Wi-Fi Protected Setup). Hiện tại chỉ hỗ trợ cấu hình nút nhấn (chế độ WPS_TYPE_PBC) (SDK 1.5.4).</p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">WiFi</span><span class="o">.</span><span class="n">beginWPSConfig</span><span class="p">()</span>
</pre></div>
</div>
<p>Tùy thuộc vào kết quả kết nối chức năng trả về <code class="docutils literal"><span class="pre">true</span></code> hoặc <code class="docutils literal"><span class="pre">false</span></code>.</p>
<p>Ví dụ:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;ESP8266WiFi.h&gt;</span><span class="cp"></span>

<span class="kt">void</span> <span class="nf">setup</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">115200</span><span class="p">);</span>
  <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>

  <span class="n">Serial</span><span class="p">.</span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Wi-Fi mode set to WIFI_STA %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">WiFi</span><span class="p">.</span><span class="n">mode</span><span class="p">(</span><span class="n">WIFI_STA</span><span class="p">)</span> <span class="o">?</span> <span class="s">&quot;&quot;</span> <span class="o">:</span> <span class="s">&quot;Failed!&quot;</span><span class="p">);</span>
  <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Begin WPS (press WPS button on your router) ... &quot;</span><span class="p">);</span>
  <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">WiFi</span><span class="p">.</span><span class="n">beginWPSConfig</span><span class="p">()</span> <span class="o">?</span> <span class="s">&quot;Success&quot;</span> <span class="o">:</span> <span class="s">&quot;Failed&quot;</span><span class="p">);</span>

  <span class="k">while</span> <span class="p">(</span><span class="n">WiFi</span><span class="p">.</span><span class="n">status</span><span class="p">()</span> <span class="o">!=</span> <span class="n">WL_CONNECTED</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;.&quot;</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
  <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Connected, IP address: &quot;</span><span class="p">);</span>
  <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">WiFi</span><span class="p">.</span><span class="n">localIP</span><span class="p">());</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span> <span class="p">{}</span>
</pre></div>
</div>
<p><em>output:</em></p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">Wi</span><span class="o">-</span><span class="n">Fi</span> <span class="n">mode</span> <span class="nb">set</span> <span class="n">to</span> <span class="n">WIFI_STA</span>
<span class="n">Begin</span> <span class="n">WPS</span> <span class="p">(</span><span class="n">press</span> <span class="n">WPS</span> <span class="n">button</span> <span class="n">on</span> <span class="n">your</span> <span class="n">router</span><span class="p">)</span> <span class="o">...</span> <span class="n">Success</span>
<span class="o">.........</span>
<span class="n">Connected</span><span class="p">,</span> <span class="n">IP</span> <span class="n">address</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">1.102</span>
</pre></div>
</div>
</div>
<div class="section" id="smart-config">
<span id="smart-config0"></span><h4>Smart Config<a class="headerlink" href="#smart-config" title="Permalink to this headline">¶</a></h4>
<p>Để bắt đầu thiết lập cấu hình bằng chức năng này, dùng lệnh sau:</p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">beginSmartConfig</span><span class="p">()</span>
</pre></div>
</div>
<p>Kiểm tra trạng thái để quyết định khi ngừng cấu hình. Chức năng trả về <code class="docutils literal"><span class="pre">true</span></code> hoặc <code class="docutils literal"><span class="pre">false</span></code></p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">smartConfigDone</span><span class="p">()</span>
</pre></div>
</div>
<p>Dừng cấu hình thông minh, giải phóng bộ đệm <code class="docutils literal"><span class="pre">beginSmartConfig()</span></code>. Tùy thuộc vào chức năng kết quả trả về <code class="docutils literal"><span class="pre">true</span></code> hoặc <code class="docutils literal"><span class="pre">false</span></code>.</p>
<div class="code cpp highlight-default"><div class="highlight"><pre><span></span><span class="n">stopSmartConfig</span><span class="p">()</span>
</pre></div>
</div>
<p>Để biết thêm chi tiết về Smart Config, vui lòng tham khảo <a class="reference external" href="../wifi/smartconfig.html">tại đây</a>.</p>
</div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="access-point.html" class="btn btn-neutral float-right" title="WiFi Access Point" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="wifi-api.html" class="btn btn-neutral" title="Thư viện ESP8266WiFi" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, TuanPM.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0',
            LANGUAGE:'vi',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/translations.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
var nav = document.getElementsByClassName("wy-nav-side");
if(nav && nav.length > 0) {
    nav[0].innerHTML += '<div><a href="http://iota.edu.vn/iot-starter/" target="_blank"><img src="./_static/iot-basic.png" /></a></div>';
}
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-60470603-9");
pageTracker._trackPageview();
} catch(err) {}</script>


</body>
</html>